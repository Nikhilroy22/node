<%- include('header') %>
 
 
  <div class="match-wrapper">
  <div class="matchscore">

    <div class="match-header">
      <span class="title">ЁЯО╛ Tennis Match</span>
      <span class="status live">LIVE</span>
    </div>

    <!-- Players + Serve + Points -->
    <div class="teams">
      <div class="team">
        <span class="name">Nikhil Roy</span>
        <span class="serve">ЁЯО╛</span>
        <span class="score">6</span>
        <span class="points">15</span>
      </div>

      <div class="vs">VS</div>

      <div class="team">
        <span class="name">Anup Roy</span>
        <span class="serve off">ЁЯО╛</span>
        <span class="score">4</span>
        <span class="points">30</span>
      </div>
    </div>

    <!-- Set Table -->
    <div class="set-table">
      <div class="row header">
        <span>Player</span>
        <span>1st Set</span>
        <span>2nd Set</span>
      </div>

      <div class="row">
        <span>Nikhil</span>
        <span>6</span>
        <span>2</span>
      </div>

      <div class="row">
        <span>Anup</span>
        <span>4</span>
        <span>1</span>
      </div>
    </div>

  </div>
</div>
  
  
  <input type="hidden" id="hiddenId" value="<%= matchid %>" />
<!--  <h1>Match ID: <%= matchid %></h1>
  
<button id="showIdBtn">Show ID</button>
  
  <h1 id="timer"></h1>
-->

<!-- Tabs -->
      <div class="tabs" id="betoddstabs">
       
      </div>
      
      



  
<script src="/js/eruda.js"></script>
  <script>
    eruda.init(); // Console ржЪрж╛рж▓рзБ рж╣ржмрзЗ
  </script>
  
  <script>
    const tabData = [
    { id: "home", name: "Home", content: `<h1>ржПржЯрж┐ рж╣рзЛржо ржкрзЗржЬред ржПржЦрж╛ржирзЗ ржорзВрж▓ рждржерзНржп ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗ</h1>` },
    { id: "profile", name: "Profile", content: `<h1>ржПржЯрж┐ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржкрзЗржЬред ржПржЦрж╛ржирзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ рждржерзНржп ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗ</h1>` },
    { id: "settings", name: "Setting", content: `<h1>ржПржЯрж┐ рж╕рзЗржЯрж┐ржВрж╕ ржкрзЗржЬред ржПржЦрж╛ржирзЗ рж╕рзЗржЯрж┐ржВрж╕ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржмрзЗ</h1>` },
    { id: "settings", name: "Setting", content: `<h1>ржПржЯрж┐ рж╕рзЗржЯрж┐ржВрж╕ ржкрзЗржЬред ржПржЦрж╛ржирзЗ рж╕рзЗржЯрж┐ржВрж╕ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржмрзЗ</h1>` },
    { id: "settings", name: "Setting", content: `<h1>ржПржЯрж┐ рж╕рзЗржЯрж┐ржВрж╕ ржкрзЗржЬред ржПржЦрж╛ржирзЗ рж╕рзЗржЯрж┐ржВрж╕ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржмрзЗ</h1>` }
  ];
    
    const tabsContainer = document.getElementById('betoddstabs');
    
    // ржЯрзНржпрж╛ржм рждрзИрж░рж┐ ржХрж░рж╛
  tabData.forEach((tab, index) => {
    const tabDiv = document.createElement('div');
    tabDiv.classList.add('tab');
    tabDiv.textContent = tab.name;
    tabDiv.addEventListener('click', () => changeTab(tab.id));
    tabsContainer.appendChild(tabDiv);
  });
  changeTab("home");
  
  function changeTab(tabId, fromHash = false) {
    // рж╕ржм ржЯрзНржпрж╛ржм inactive
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));

    // ржХрзЛржи ржЯрзНржпрж╛ржмржЯрж┐?
    const activeTab = tabData.find(t => t.id === tabId) || tabData[0];

    // UI ржЖржкржбрзЗржЯ
    const index = tabData.indexOf(activeTab);
    document.querySelectorAll('.tab')[index].classList.add('active');
    //app.innerHTML = activeTab.content;

   
   
  }
  </script>
  <script>
    
    const hiddenInput = document.getElementById("hiddenId");
const btn = document.getElementById("showIdBtn");
console.log(hiddenInput.value)
//btn.addEventListener("click", () => {
//  alert(hiddenInput.value);
//});


let gameSeconds;
let lastUpdate;

async function viewodds() {
  const res = await fetch(`/resview/${hiddenInput.value}`);
  const data = await res.json();
  console.log(data.Value.SC.SLS);

  // ttt set
  let ttt = data.Value.SC.SLS; // ржЕржержмрж╛ ttt = 66; ржпржжрж┐ ржбрзЗржорзЛ
  if (ttt === "Event in progress"){
    document.getElementById("timer").textContent =
      `Event in progress`;
    
    return;
  }
  gameSeconds = parseInt(ttt) * 60; // Timer рж╢рзБрж░рзБ ржорж╛ржи
  lastUpdate = performance.now();

  // Timer start
  requestAnimationFrame(updateTimer);
}

function updateTimer(now) {
  const delta = now - lastUpdate;

  if (delta >= 1000) {
    gameSeconds++;
    lastUpdate = now;

    const minutes = Math.floor(gameSeconds / 60);
    const seconds = gameSeconds % 60;
    document.getElementById("timer").textContent =
      `${minutes} min ${seconds} sec`;
  }

  requestAnimationFrame(updateTimer);
}

// Viewodds call
viewodds();



  </script>
 


</body>
</html>
  
  